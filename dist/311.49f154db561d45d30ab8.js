"use strict";(self.webpackChunkslot_machine=self.webpackChunkslot_machine||[]).push([[311],{4877:(t,n,e)=>{e.d(n,{A:()=>l});var r=e(4848),o=e(3175),c=e(7555),i=e(3443),s=e(961),a=e(6540);const l=(0,a.memo)((0,i.PA)((function(t){var n=t.children,e=t.link,i=t.time,l=t.color;return(0,a.useEffect)((function(){var t=setTimeout((function(){c.A.close()}),i+50);return function(){return clearTimeout(t)}}),[i,c.A.isOpen]),c.A.isOpen?s.createPortal((0,r.jsx)(o.N_,{to:e,className:"snackbar",style:{animation:"fadeInOut 0.2s ease-in-out, ending 0.2s linear ".concat(i/1e3-.2,"s forwards"),backgroundColor:l||""},children:n}),document.body):null})))},5311:(t,n,e)=>{e.r(n),e.d(n,{default:()=>f});var r=e(4848),o=e(6540),c=e(9785),i=e(1712),s=e(4877),a=e(7555),l=function(){return l=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},l.apply(this,arguments)},u=function(t,n,e,r){return new(e||(e=Promise))((function(o,c){function i(t){try{a(r.next(t))}catch(t){c(t)}}function s(t){try{a(r.throw(t))}catch(t){c(t)}}function a(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(i,s)}a((r=r.apply(t,n||[])).next())}))},p=function(t,n){var e,r,o,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(a){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(c=0)),c;)try{if(e=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,r=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){c=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){c.label=s[1];break}if(6===s[0]&&c.label<o[1]){c.label=o[1],o=s;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(s);break}o[2]&&c.ops.pop(),c.trys.pop();continue}s=n.call(t,c)}catch(t){s=[6,t],r=0}finally{e=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};const f=(0,o.memo)((function(){var t=this,n=(0,o.useContext)(i.o),e=(0,c.mN)(),f=e.register,h=e.handleSubmit,d=(0,o.useState)(),y=d[0],b=d[1];function m(t){return u(this,void 0,void 0,(function(){var e,r,o;return p(this,(function(c){switch(c.label){case 0:return e="",[4,fetch("http://localhost:3000/api/check?nickname=".concat(t.nickname))];case 1:case 3:return[4,c.sent().json()];case 2:return r=c.sent(),[4,fetch("http://localhost:3000/api/check?mail=".concat(t.mail))];case 4:return o=c.sent(),"nickname занят"==r?e="Никнейм уже занят попробуйте другой":t.nickname.length<2?e="Никнейм слишком короткий":t.mail.includes("@")&&t.mail.includes(".")?"mail занят"==o?e="Почта уже занята попробуйте другую":t.password.length<5?e="Пароль слишком короткий":t.password!=t.password_repeat&&(e="Пароли не совпадают"):e="Введите почту",t.password==t.password_repeat&&""==e?(n.registration(t),[2,b({color:"green",text:"Регистрация успешна"})]):[2,b({color:"red",text:e})]}}))}))}return(0,r.jsxs)(r.Fragment,{children:[y&&(0,r.jsx)(s.A,{time:1500,color:y.color,children:y.text}),(0,r.jsx)("main",{className:"register-section",children:(0,r.jsxs)("form",{onSubmit:h((function(n){return u(t,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return a.A.open(),[4,m(n)];case 1:return t.sent(),[2]}}))}))})),children:[(0,r.jsx)("strong",{children:"РЕГИСТРАЦИЯ"}),(0,r.jsx)("label",{children:"Никнейм"}),(0,r.jsx)("input",l({},f("nickname"),{type:"text"})),(0,r.jsx)("label",{children:"Почта"}),(0,r.jsx)("input",l({},f("mail"),{type:"text"})),(0,r.jsx)("label",{children:"Пароль"}),(0,r.jsx)("input",l({},f("password"),{type:"password"})),(0,r.jsx)("label",{children:"Повторите пароль"}),(0,r.jsx)("input",l({},f("password_repeat"),{type:"password"})),(0,r.jsx)("button",{children:"Готово"})]})})]})}))},7555:(t,n,e)=>{e.d(n,{A:()=>i});var r,o=e(8803),c=(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});const i=new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n}(o.A))},8803:(t,n,e)=>{e.d(n,{A:()=>o});var r=e(7813);const o=function(){function t(){this.isOpen=!1,(0,r.Gn)(this,{isOpen:r.sH,open:r.XI,close:r.XI})}return t.prototype.open=function(){this.isOpen=!0},t.prototype.close=function(){this.isOpen=!1},t}()}}]);