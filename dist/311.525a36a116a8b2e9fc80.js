(self.webpackChunkslot_machine=self.webpackChunkslot_machine||[]).push([[311],{4877:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(4848),c=n(3175),i=n(7555),t=n(3443),s=n(961),a=n(6540);let r=(0,a.memo)((0,t.PA)(function(e){var t=e.children,n=e.link,r=e.time,e=e.color;return(0,a.useEffect)(function(){var e=setTimeout(function(){i.A.close()},r+50);return function(){return clearTimeout(e)}},[r,i.A.isOpen]),i.A.isOpen?s.createPortal((0,o.jsx)(c.N_,{to:n,className:"snackbar",style:{animation:"fadeInOut 0.2s ease-in-out, ending 0.2s linear ".concat(r/1e3-.2,"s forwards"),backgroundColor:e||""},children:t}),document.body):null}))},5311:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var s=n(4848),a=n(6540),l=n(9785),u=n(1712),p=n(4877),f=n(7555),h=n(59),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=function(e,i,s,a){return new(s=s||Promise)(function(n,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function o(e){try{c(a.throw(e))}catch(e){t(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,o)}c((a=a.apply(e,i||[])).next())})},m=function(r,o){var c,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=e(0),l.throw=e(1),l.return=e(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function e(n){return function(e){var t=[n,e];if(c)throw new TypeError("Generator is already executing.");for(;a=l&&t[l=0]?0:a;)try{if(c=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))a.label=t[1];else if(6===t[0]&&a.label<s[1])a.label=s[1],s=t;else{if(!(s&&a.label<s[2])){s[2]&&a.ops.pop(),a.trys.pop();continue}a.label=s[2],a.ops.push(t)}}t=o.call(r,a)}catch(e){t=[6,e],i=0}finally{c=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};let r=(0,a.memo)(function(){var e=this,c=(0,a.useContext)(u.o),t=(n=(0,l.mN)()).register,n=n.handleSubmit,r=(0,a.useState)(),o=r[0],i=r[1];return(0,s.jsxs)(s.Fragment,{children:[o&&(0,s.jsx)(p.A,{time:1500,color:o.color,children:o.text}),(0,s.jsx)("main",{className:"register-section",children:(0,s.jsxs)("form",{onSubmit:n(function(t){return y(e,void 0,void 0,function(){return m(this,function(e){switch(e.label){case 0:return f.A.open(),[4,function(o){return y(this,void 0,void 0,function(){var t,n,r;return m(this,function(e){switch(e.label){case 0:return t="",[4,fetch("".concat(h.URL_SERVER_API,"check?nickname=").concat(o.nickname))];case 1:return[4,e.sent().json()];case 2:return n=e.sent(),[4,fetch("".concat(h.URL_SERVER_API,"check?mail=").concat(o.mail))];case 3:return[4,e.sent().json()];case 4:return r=e.sent(),"nickname занят"==n?t="Никнейм уже занят попробуйте другой":o.nickname.length<2?t="Никнейм слишком короткий":o.mail.includes("@")&&o.mail.includes(".")?"mail занят"==r?t="Почта уже занята попробуйте другую":o.password.length<5?t="Пароль слишком короткий":o.password!=o.password_repeat&&(t="Пароли не совпадают"):t="Введите почту",o.password==o.password_repeat&&""==t?(c.registration(o),[2,i({color:"green",text:"Регистрация успешна"})]):[2,i({color:"red",text:t})]}})})}(t)];case 1:return e.sent(),[2]}})})}),children:[(0,s.jsx)("strong",{children:"РЕГИСТРАЦИЯ"}),(0,s.jsx)("label",{children:"Никнейм"}),(0,s.jsx)("input",d({},t("nickname"),{type:"text"})),(0,s.jsx)("label",{children:"Почта"}),(0,s.jsx)("input",d({},t("mail"),{type:"text"})),(0,s.jsx)("label",{children:"Пароль"}),(0,s.jsx)("input",d({},t("password"),{type:"password"})),(0,s.jsx)("label",{children:"Повторите пароль"}),(0,s.jsx)("input",d({},t("password_repeat"),{type:"password"})),(0,s.jsx)("button",{children:"Готово"})]})})]})})},7555:(e,t,n)=>{n.d(t,{A:()=>i});var r,o,t=n(8803),n=(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function c(){return null!==o&&o.apply(this,arguments)||this}o=t.A,n(c,o);let i=new c},8803:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(7813);function o(){(this.isOpen=!1,r.Gn)(this,{isOpen:r.sH,open:r.XI,close:r.XI})}o.prototype.open=function(){this.isOpen=!0},o.prototype.close=function(){this.isOpen=!1};let c=o}}]);